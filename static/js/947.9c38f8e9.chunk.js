"use strict";(self.webpackChunkkidslike=self.webpackChunkkidslike||[]).push([[947],{5570:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(1413),s=n(9439),a=n(5175),l=n(3153),i=n(4963),o=n(3329),c=function(e){var t=e.name,n=e.label,r=e.checked,s=e.id,a=e.onChange,l=e.disabled;return(0,o.jsxs)("li",{className:"mb-[8px] h-[18px] last:mb-0",children:[(0,o.jsx)("input",{id:s,name:t,type:"checkbox",checked:r,onChange:a,className:"checkbox mr-[10px] h-[14px] w-[14px] cursor-pointer rounded-[3px] border  border-main-bg  bg-third-color checked:border-2 checked:border-main-bg checked:hover:border-2 checked:hover:border-main-bg  focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-second-color disabled:hover:bg-second-color",disabled:l}),(0,o.jsx)("label",{htmlFor:s,className:"checkboxlabel text-[14px] font-bold text-main-bg ",children:n})]})},d=function(e){var t=e.cardId,n=e.selectedDays,r=e.handleChange,s=(0,l.C)((function(e){return e.auth})).lang;return(0,o.jsx)("ul",{className:"absolute top-0 right-0 flex translate-y-[-100%] flex-col rounded-t-[6px] bg-third-color py-[10px] px-[34px]",children:null===n||void 0===n?void 0:n.map((function(e){var n=e.date,a=e.isActive;return(0,o.jsx)(c,{id:n,name:n,label:(0,i.ji)(n,s,"short"),checked:a,disabled:(0,i.aN)(n),onChange:r},"".concat(t,"+").concat(n))}))})},u=n(9601),x=n(2791),h=n(9452),p=n(9085),f=n(4813),m=JSON.parse('{"ru-RU":{"canNotCancelPlan":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0443\u0436\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0432 \u044d\u0442\u043e\u0442 \u0434\u0435\u043d\u044c, \u0435\u0433\u043e \u043d\u0435\u043b\u044c\u0437\u044f \u0443\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445"},"uk-UA":{"canNotCancelPlan":"\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f \u0432\u0436\u0435 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0435 \u0432 \u0446\u0435\u0439 \u0434\u0435\u043d\u044c, \u0439\u043e\u0433\u043e \u043d\u0435 \u043c\u043e\u0436\u043d\u0430 \u043f\u0440\u0438\u0431\u0440\u0430\u0442\u0438 \u0456\u0437 \u0437\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u0445"}}'),b=function(e){var t=e.cardId,n=e.days,a=(0,l.C)((function(e){return e.auth})).lang,i=(0,x.useState)(!1),c=(0,s.Z)(i,2),b=c[0],j=c[1],g=(0,x.useState)(!1),v=(0,s.Z)(g,2),w=v[0],y=v[1],N=(0,x.useState)(n),k=(0,s.Z)(N,2),C=k[0],Z=k[1],T=(0,l.T)();return u.Z,(0,o.jsxs)(o.Fragment,{children:[w?(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(!1),C.every((function(e,t){return e.isActive===n[t].isActive}))||(j(!0),T((0,h.R8)({days:C,taskId:t})).finally((function(){j(!1)})))},children:[(0,o.jsx)("button",{type:"submit",className:"flex h-[34px] w-[34px] items-center justify-center rounded-full",children:(0,o.jsx)("svg",{width:"34",height:"34",children:(0,o.jsx)("use",{href:u.Z+"#ok"})})}),(0,o.jsx)(d,{handleChange:function(e){var t=e.target.name;Z((function(e){return e.map((function(e){return e.date===t&&e.isCompleted?(p.Am.error("".concat(m[a].canNotCancelPlan)),e):e.date===t?(0,r.Z)((0,r.Z)({},e),{},{isActive:!e.isActive}):e}))}))},cardId:t,selectedDays:C})]}):(0,o.jsx)("button",{className:"flex h-[34px] w-[34px] items-center justify-center rounded-full",onClick:function(){y(!0)},children:(0,o.jsx)("svg",{width:"34",height:"34",children:(0,o.jsx)("use",{href:u.Z+"#plus"})})}),b&&(0,o.jsx)("div",{className:"absolute right-[16px] bottom-[3px] z-10",children:(0,o.jsx)(f.Z,{})})]})},j=n(7689),g=n(7709),v=function(e){var t=e._id,n=e.isChecked,r=(0,l.C)((function(e){return e.info})),a=r.selectedDay,i=r.purchasedGifts,c=(0,j.TH)().pathname,d=(0,x.useState)(!1),p=(0,s.Z)(d,2),m=p[0],b=p[1],v="/awards"===c||"/awards/*"===c,w=(0,l.T)();return(0,o.jsxs)("label",{htmlFor:"toggle-input".concat(t,"+").concat(a),className:"relative inline-flex cursor-pointer items-center",children:[(0,o.jsx)("input",{id:"toggle-input".concat(t,"+").concat(a),name:t,type:"checkbox",checked:n,className:"peer sr-only",onChange:function(){v?w((0,g.IB)(t)):(b(!0),w((0,h.eE)({date:a,taskId:t})).finally((function(){b(!1)})))},disabled:i.includes(t)}),(0,o.jsxs)("div",{className:"peer h-[24px] w-[48px] rounded-full bg-error-color after:absolute after:top-[2px] after:left-[2px] after:h-[20px] after:w-[20px] after:rounded-full after:border after:border-red-700 after:bg-main-bg after:transition-all after:content-[''] peer-checked:bg-fourth-color peer-checked:after:translate-x-[24px] peer-checked:after:border-green-700 peer-disabled:bg-gray-400 peer-disabled:after:border-gray-700",children:[(0,o.jsx)("p",{className:"absolute right-[10px] top-0 text-[16px] font-bold text-main-bg",children:"!"}),(0,o.jsx)("svg",{className:"absolute top-[7px] left-[7px]",width:12,height:10,children:(0,o.jsx)("use",{href:u.Z+"#yes-checked"})})]}),m&&(0,o.jsx)("div",{className:"absolute top-[27px] left-[4px] z-10",children:(0,o.jsx)(f.Z,{})})]})},w=n(8430),y=n(4352),N=JSON.parse('{"ru-RU":{"areYouWantDelete":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c","thisAward":"\u044d\u0442\u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043e\u043a","thisTask":"\u044d\u0442\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u0435","yes":"\u0414\u0430","no":"\u041d\u0435\u0442"},"uk-UA":{"areYouWantDelete":"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438","thisAward":"\u0446\u0435\u0439 \u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043e\u043a","thisTask":"\u0446\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f","yes":"\u0422\u0430\u043a","no":"\u041d\u0456"}}'),k=function(e){var t=e.onClose,n=e.handleDelete,r=(0,l.C)((function(e){return e.auth})).lang,s=(0,j.TH)().pathname,a="/awards"===s||"/awards/*"===s;return(0,o.jsxs)("div",{className:"px-[20px] pt-[40px] pb-[20px]",children:[(0,o.jsxs)("p",{className:"mb-[20px] text-center text-[16px] font-bold",children:[N[r].areYouWantDelete," ",a?N[r].thisAward:N[r].thisTask,"?"]}),(0,o.jsxs)("div",{className:"flex ",children:[(0,o.jsx)("button",{type:"button",onClick:n,className:"btn mr-[20px] w-full",children:N[r].yes}),(0,o.jsx)("button",{type:"button",onClick:t,className:"btn  w-full",children:N[r].no})]})]})},C=function(e){var t=e.onOpenEditModal,n=e.onOpenDeleteModal;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"button",className:"visible-on-hover absolute left-[20px] bottom-[10px] flex h-[30px] w-[30px] items-center justify-center rounded-full border-[1px] border-third-color bg-main-bg text-third-color",onClick:t,children:(0,o.jsx)("svg",{className:"fill-current",width:20,height:20,children:(0,o.jsx)("use",{href:u.Z+"#edit"})})}),(0,o.jsx)("button",{type:"button",className:"visible-on-hover absolute right-[21px] bottom-[10px] flex h-[30px] w-[30px] items-center justify-center rounded-full border-[1px] border-error-color bg-main-bg text-error-color",onClick:n,children:(0,o.jsx)("svg",{className:"fill-current",width:20,height:20,children:(0,o.jsx)("use",{href:u.Z+"#delete"})})})]})},Z=JSON.parse('{"ru-RU":{"plannedCanNotDeleted":"\u0412\u044b \u0443\u0436\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0438 \u0432 \u043f\u043b\u0430\u043d \u044d\u0442\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u0435. \u0414\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"},"uk-UA":{"plannedCanNotDeleted":"\u0412\u0438 \u0432\u0436\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0438 \u0443 \u043f\u043b\u0430\u043d \u0446\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f. \u0414\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0441\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}}'),T=function(e){var t,n=e._id,r=e.title,c=e.reward,d=e.imageUrl,f=e.days,m=(0,x.useState)(!1),g=(0,s.Z)(m,2),N=g[0],T=g[1],D=(0,x.useState)(!1),A=(0,s.Z)(D,2),S=A[0],U=A[1],_=(0,l.C)((function(e){return e.auth})).lang,F=(0,l.C)((function(e){return e.info})),O=F.selectedDay,I=F.currentChild,M=(0,a.P)(c).toUpperCase(),P=(0,j.TH)().pathname,L=(0,i.Ey)(O),E="/planning"===P||"/planning/*"===P,H="/main"===P||"/main/*"===P,R=(null===(t=f.find((function(e){return e.date===O})))||void 0===t?void 0:t.isCompleted)||!1,J=(0,l.T)(),W=function(){T(!1)},Y=function(){U(!1)};return(0,o.jsxs)("li",{className:"card overflow-hidden rounded-[6px] shadow-base  transition duration-500 hover:shadow-hover sTablet:w-[336px] sLaptop:w-[288px] sLaptop:hover:scale-105  sLaptop:focus:scale-105 lessTablet:w-full",children:[(0,o.jsxs)("div",{className:"relative flex h-[224px] items-center justify-center sTablet:h-[194px]",children:[(0,o.jsx)("img",{alt:r,src:d,width:280,className:"h-full w-full"}),E&&(0,o.jsx)(C,{onOpenEditModal:function(){T(!0)},onOpenDeleteModal:function(){U(!0)}})]}),(0,o.jsxs)("div",{className:"relative flex items-center justify-between bg-accent-color px-[20px] py-[16px]",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"mb-[4px] text-[12px] font-bold text-main-color",children:r}),(0,o.jsx)("p",{className:"inline rounded-[3px] bg-third-color py-[3px] px-[10px] text-center text-[10px] font-medium text-main-bg",children:(0,o.jsxs)(o.Fragment,{children:[c," ",M]})})]}),H&&"before"===L&&(0,o.jsx)(o.Fragment,{children:R?(0,o.jsx)("button",{type:"button",className:"flex h-[30px] w-[30px] items-center justify-center rounded-full bg-fourth-color",children:(0,o.jsx)("svg",{className:"fill-current",width:30,height:30,children:(0,o.jsx)("use",{href:u.Z+"#yes"})})}):(0,o.jsx)("button",{type:"button",className:"flex h-[30px] w-[30px] items-center justify-center rounded-full border-none",children:(0,o.jsx)("svg",{className:"fill-current",width:30,height:30,children:(0,o.jsx)("use",{href:u.Z+"#attention"})})})}),H&&"today"===L&&(0,o.jsx)(v,{_id:n,isChecked:R}),E&&(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)(b,{cardId:n,days:f})})]}),N&&(0,o.jsx)(w.Z,{onClose:W,children:(0,o.jsx)(y.Z,{task:{_id:n,title:r,reward:c},onCloseModal:W})}),S&&(0,o.jsx)(w.Z,{onClose:Y,children:(0,o.jsx)(k,{handleDelete:function(){var e=I.tasks.find((function(e){return e._id===n}));(null===e||void 0===e?void 0:e.days.find((function(e){return e.isActive})))?p.Am.error(Z[_].plannedCanNotDeleted):J((0,h.F6)(n))},onClose:Y})})]})},D=function(e){var t=e._id,n=e.title,r=e.price,i=e.isPurchased,c=e.imageUrl,d=(0,a.P)(r).toUpperCase(),u=(0,x.useState)(!1),p=(0,s.Z)(u,2),f=p[0],m=p[1],b=(0,x.useState)(!1),j=(0,s.Z)(b,2),g=j[0],N=j[1],Z=(0,l.T)(),T=function(){m(!1)},D=function(){N(!1)};return(0,o.jsxs)("li",{className:"card overflow-hidden rounded-[6px] shadow-base transition duration-500 hover:shadow-hover sTablet:w-[336px] sLaptop:w-[288px] sLaptop:hover:scale-105 sLaptop:focus:scale-105 lessTablet:w-full",children:[(0,o.jsxs)("div",{className:"relative flex h-[194px] items-center justify-center",children:[(0,o.jsx)("img",{alt:n,src:c,width:280,className:" h-full w-full"}),(0,o.jsx)(C,{onOpenEditModal:function(){m(!0)},onOpenDeleteModal:function(){N(!0)}})]}),(0,o.jsxs)("div",{className:"relative flex items-center justify-between bg-accent-color px-[20px] py-[16px]",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"mb-[4px] text-[12px] font-bold text-main-color",children:n}),(0,o.jsxs)("p",{className:"inline rounded-[3px] bg-third-color py-[3px] px-[10px] text-center text-[10px] font-medium text-main-bg",children:[r," ",d]})]}),(0,o.jsx)(v,{isChecked:i,_id:t})]}),f&&(0,o.jsx)(w.Z,{onClose:T,children:(0,o.jsx)(y.Z,{gift:{_id:t,title:n,price:r},onCloseModal:T})}),g&&(0,o.jsx)(w.Z,{onClose:D,children:(0,o.jsx)(k,{handleDelete:function(){Z((0,h.ZF)(t))},onClose:D})})]})},A=function(e){var t=e.cards,n=(0,l.C)((function(e){return e.info})).selectedDay,s=(0,j.TH)().pathname,a="/planning"===s||"/planning/*"===s,i=null===t||void 0===t?void 0:t.filter((function(e){if("reward"in e){if(a)return!0;var t=e.days.findIndex((function(e){return e.date===n}));return t>=0&&e.days[t].isActive}return!0})).map((function(e){return"reward"in e?(0,o.jsx)(T,(0,r.Z)({},e),"".concat(e._id,"card")):(0,o.jsx)(D,(0,r.Z)({},e),"".concat(e._id,"gift"))}));return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("ul",{className:"list mx-auto mt-[32px] flex flex-wrap justify-center gap-y-[20px] sTablet:mt-[40px] sTablet:gap-x-[32px] lessTablet:max-w-[376px]",children:i})})}},9532:function(e,t,n){var r=n(9601),s=n(2871),a=n(3153),l=n(3329);t.Z=function(){var e=(0,a.T)();return(0,l.jsx)("button",{className:" flex h-[54px] w-[54px] items-center rounded-full transition duration-500 hover:scale-110",onClick:function(){e((0,s.G4)(!0))},children:(0,l.jsx)("svg",{width:"54",height:"54",children:(0,l.jsx)("use",{href:r.Z+"#add"})})})}},5175:function(e,t,n){function r(e){var t=Array.from(""+e).map(Number),n=t[t.length-1];return 11===e||12===e?"\u0431\u0430\u043b\u043b\u043e\u0432":1===n?"\u0431\u0430\u043b\u043b":n>1&&n<5?"\u0431\u0430\u043b\u043b\u0430":"\u0431\u0430\u043b\u043b\u043e\u0432"}n.d(t,{P:function(){return r}})}}]);
//# sourceMappingURL=947.9c38f8e9.chunk.js.map